<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
<script type="text/javascript" 	src="<c:url value='/resources/jquery-ui-1.10.3/jquery-1.9.1.js'/>"></script>
<script>
	$(document)
			.ready(function(){	
				//create wrapped fine uploader						
				$('div[id^="jquery-wrapped-fine-uploader"]')
												.each(
														function(index) {
															$(this)
																	.fineUploader(
																			{
																				request : {
																					endpoint : '/ereg-web/pss/task/upload/save',
																					forceMultipart : true,
																					inputName : "file"
																				},

																				text : {
																					uploadButton : '<i class="icon-plus icon-white"></i> <font size=2>Upload Document or File</font>'
																				},
																				
																				validation: {allowedExtensions: ['doc','xls','ppt','docx','xlsx','pptx','jpeg','txt','pdf','rtf'],
																			        sizeLimit:1048576 // 50 kB = 50 * 1024 bytes
																			       // sizeLimit: 2147483648 //2GB
																			      },
																			       showMessage: function(message) {
																			          // Using Bootstrap's classes
																			          $('#uploadDialog').append('<div class="alert alert-error">' + message + '</div>');
																			        },
																				formatFileName : function(
																						fileName) {
																					if (fileName.length > 33) {
																						fileName = fileName
																								.slice(
																										0,
																										19)
																								+ '...'
																								+ fileName
																										.slice(-14);
																					}
																					return fileName;
																				}

																			});
														}); 
/* 				var counter = 1;
				$('#addArtifact').click(function(){
					var divName = 'divUploadArtifact'+counter;
					var artfactname = 'artifact'+counter;
					var removeArtifactName = 'removeArtifact'+counter;
					$('#inputControls').append('<div id="'+divName+'"><input type="file" id="'+artfactname+'" /><input type="button" id="'+removeArtifactName+'" value="Remove"/></div>');
					counter++;
				});	
				
				$('input[id^="removeArtifact"]').click(function() {					    
						var clicked = $(this);
						var idStr = clicked[0].id;		
						alert(idStr+'clicked');
						var indexOfCount = "removeArtifact".length;
						var index = idStr.substring(indexOfCount,idStr.length);
						$('#divUploadArtifact'+index).remove();						
				});
				
				$('#upload').click(function(){

					$('input[id^="artifact"]').each(function(index){
						
					});
				});	 */				
			});
</script>					
</head>
<body>
<p>Each artifact must be in doc, pdf, ppt, xls or [other] format and cannot exceed 1 MB</p>
<div id="jquery-wrapped-fine-uploader"></div>
</body>
</html>